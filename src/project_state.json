{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [],
  "known_issues": [
    "Deployed site renders as blank white screen (no loading spinner, no console errors) after recent changes; user requests working demo via rebuild/redeploy."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-eliminate-the-blank-white-screen-on-the-deployed-site-by-ensuring-the-app-always-renders-a-visible-ui-state-login-screen-loading-state-or-error-state-at-route-and-protected-routes",
      "title": "Eliminate the blank white screen on the deployed site by ensuring the app always renders a visible UI state (login screen, loading state, or error state) at route \"/\" and protected routes.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-refactor-route-level-authentication-logic-in-frontend-src-routetree-tsx-to-avoid-fetching-the-caller-profile-via-react-query-during-route-beforeload-remove-reliance-on-getcalleruserprofilequery-ensurequerydata-there-and-instead-perform-only-demo-session-routing-decisions-in-beforeload-perform-non-demo-auth-profile-checks-in-ui-components-where-hooks-are-valid",
      "title": "Refactor route-level authentication logic in frontend/src/routeTree.tsx to avoid fetching the caller profile via React Query during route beforeLoad (remove reliance on getCallerUserProfileQuery/ensureQueryData there), and instead perform only demo-session routing decisions in beforeLoad; perform non-demo auth/profile checks in UI components where hooks are valid.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-src-components-layout-applayout-tsx-so-that-when-profile-is-missing-and-demo-mode-is-not-active-it-renders-a-safe-fallback-that-navigates-to-login-and-or-shows-an-inline-message-rather-than-returning-null",
      "title": "Update frontend/src/components/layout/AppLayout.tsx so that when profile is missing (and demo mode is not active), it renders a safe fallback that navigates to \"/login\" (and/or shows an inline message) rather than returning null.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-use-a-single-react-query-queryclient-instance-consistently-for-both-the-react-query-provider-and-the-tanstack-router-context-avoid-creating-multiple-queryclient-instances-across-frontend-src-main-tsx-and-frontend-src-app-tsx",
      "title": "Use a single React Query QueryClient instance consistently for both the React Query provider and the TanStack Router context (avoid creating multiple QueryClient instances across frontend/src/main.tsx and frontend/src/App.tsx).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-simple-global-client-side-error-fallback-so-that-unexpected-render-runtime-errors-show-a-user-visible-error-panel-with-a-go-to-login-action-instead-of-a-blank-white-screen",
      "title": "Add a simple global client-side error fallback so that unexpected render/runtime errors show a user-visible error panel with a \"Go to Login\" action instead of a blank white screen.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [],
  "projectName": "Fix blank white screen by correcting routing/auth gating and QueryClient usage",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}